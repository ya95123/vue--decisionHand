(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["raffle"],{"2ac8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-center align-center",attrs:{id:"raffle"}},[a("div",{staticClass:"game d-flex justify-center align-center"},[a("div",{staticClass:"gameSetFrame"},[a("v-icon",{staticClass:"gameSet",attrs:{id:"setting"},on:{click:function(e){e.stopPropagation(),t.dialogSet=!0}}},[t._v("mdi-cog-outline")]),a("v-icon",{staticClass:"gameSet mt-2",attrs:{id:"record"},on:{click:function(e){t.dialogRecord=!0}}},[t._v("mdi-history")])],1),a("v-dialog",{attrs:{"max-width":"400",persistent:"",scrollable:""},model:{value:t.dialogSet,callback:function(e){t.dialogSet=e},expression:"dialogSet"}},[a("v-card",[a("v-card-title",{staticClass:"d-flex justify-center font-weight-bold orange--text"},[t._v(" 抽獎設定 ")]),a("vue-scroll",[a("v-card-text",{staticClass:"d-flex justify-center align-center flex-column pa-0"},[t._l(t.inputs,(function(e,n){return a("v-text-field",{key:n,staticStyle:{width:"60%"},attrs:{label:e.num,color:"success"},scopedSlots:t._u([t.inputs.length>=3?{key:"append-outer",fn:function(){return[a("v-icon",{staticClass:"inputDel",on:{click:function(e){return t.deletInput(n)}}},[t._v(" mdi-delete-forever ")])]},proxy:!0}:null],null,!0),model:{value:e.item,callback:function(a){t.$set(e,"item",a)},expression:"input.item"}})})),a("v-icon",{staticClass:"inputAdd",on:{click:t.addInput}},[t._v(" mdi-plus-circle-outline ")])],2)],1),a("v-card-actions",{staticClass:"d-flex justify-center pb-4"},[a("v-btn",{staticStyle:{height:"30px","font-size":"0.95rem"},attrs:{color:"green darken-1",text:""},on:{click:t.submitInput}},[t._v(" 確定 ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400",persistent:"",scrollable:""},model:{value:t.dialogRecord,callback:function(e){t.dialogRecord=e},expression:"dialogRecord"}},[a("v-card",[a("v-card-title",{staticClass:"d-flex justify-center font-weight-bold orange--text"},[t._v(" 抽獎結果 ")]),a("vue-scroll",[a("v-card-text",{staticClass:"d-flex justify-center align-center flex-column pa-0"},t._l(t.record,(function(e){return a("div",{key:e.time,staticClass:"pb-2",staticStyle:{width:"80%"}},[a("span",{staticClass:"pr-1",staticStyle:{opacity:"0.6"}},[t._v(" "+t._s(e.time)+" ")]),a("span",[t._v(t._s(e.award)+" - "+t._s(e.winner))])])})),0)],1),a("v-card-actions",{staticClass:"d-flex justify-center pb-4"},[a("v-btn",{staticStyle:{height:"30px","font-size":"0.95rem"},attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialogRecord=!1}}},[t._v(" 關閉 ")])],1)],1)],1),a("div",{ref:"box",staticClass:"d-flex justify-center",attrs:{id:"box"}},[a("div",{attrs:{id:"border"}},t._l(t.inputs,(function(e,n){return a("div",{key:n,staticClass:"paper",style:e.position,on:{click:function(e){return t.keep(n)}}},[a("span",{staticClass:"text"},[t._v(t._s(e.item))])])})),0)]),a("div",{ref:"startBig",staticClass:"startBig d-flex justify-center align-center",on:{click:function(e){return t.start(e)}}},[t._v(" GO ")]),a("span",{ref:"award",staticClass:"text-center text",attrs:{id:"award"}},[t._v(" 獎項："+t._s(t.award)+" ")]),t.inputText?a("div",{staticClass:"awardInput"},[a("v-text-field",{staticClass:"adwardInputSize",attrs:{label:"獎項名稱",color:"success",autofocus:""},model:{value:t.award,callback:function(e){t.award=e},expression:"award"}})],1):t._e(),a("span",{ref:"hand",staticClass:"maskHand",on:{click:t.open}},[t._v("🤚")]),t.openText?a("span",{staticClass:"openText"},[t._v("點手揭曉")]):t._e(),t.keepText?a("span",{staticClass:"openText"},[t._v("點紙繼續")]):t._e(),t.over?a("div",{staticClass:"openText text-center"},[a("div",{staticStyle:{color:"#E12E4B"}},[t._v("已抽完")]),a("v-btn",{staticClass:"restart pa-2",attrs:{large:"",text:"",color:"dhblue"},on:{click:t.restart}},[t._v(" 重新開始 ")])],1):t._e()],1)])},s=[],o=(a("99af"),a("4de4"),a("a434"),a("ac1f"),a("5319"),a("b85c")),i=function(t){return t.replace(/\D/g,"")},c=function(t,e){return Math.round(Math.random()*(e-t)+t)},r={name:"Raffle",data:function(){return{dialogSet:!1,dialogRecord:!1,openText:!1,keepText:!1,inputText:!0,over:!1,award:"Switch 藍紅主機",radioSet:"w2",inputs:[{num:"紙條1",item:"😊",position:{transform:"skew(-20deg,-10deg) rotate(-270deg)",left:"15%",bottom:"2%",background:"#E12E4B"}},{num:"紙條2",item:"請點選",position:{transform:"skew(-10deg,-10deg) rotate(-60deg)",left:"42%",bottom:"2%",background:"#F9e54E"}},{num:"紙條3",item:"右上角",position:{transform:"skew(-5deg,-5deg) rotate(-280deg)",left:"65%",bottom:"2%",background:"#5BBDC8"}}],record:[]}},methods:{addInput:function(){var t=this.$data.inputs.length;this.$data.inputs.push({num:"紙條".concat(t+1),item:""})},deletInput:function(t){var e=this.$data.inputs,a="各個 input 的索引直";for(var n in console.log("純紙條數字：".concat(i(e[t].num))),console.log("刪除 [".concat(e[t].num,"]")),e)n>t&&(a=n,e[n].num="紙條".concat(a));e.splice(t,1)},submitInput:function(){this.$data.dialogSet=!1;var t=this.$data.inputs;console.log(t);var e,a=0,n=a,s=n,i="",r=Object(o["a"])(t);try{for(r.s();!(e=r.n()).done;){var l=e.value;n=a,s=n%=3,i=0===s?"#E12E4B":1===s?"#F9e54E":"#5BBDC8",l.position={transform:"skew(-".concat(c(5,15),"deg,-").concat(c(0,15),"deg) rotate(-").concat(c(45,270),"deg)"),left:"".concat(c(3,77),"%"),bottom:"".concat(c(0,20),"%"),background:"".concat(i)},a++}}catch(d){r.e(d)}finally{r.f()}},start:function(t){var e=this,a=document.getElementsByClassName("paper");t.target.style.pointerEvents="none",document.getElementById("setting").style.pointerEvents="none",document.getElementById("setting").style.color="#e3e3e3",t.target.style.opacity="0",this.$data.inputText=!1,setTimeout((function(){e.$refs.box.classList.add("shake-constant","shake-hard"),e.$refs.award.classList.add("shake-constant","shake-hard");var t,n=Object(o["a"])(a);try{for(n.s();!(t=n.n()).done;){var s=t.value;s.style.transform="skew(-".concat(c(5,15),"deg,-").concat(c(0,15),"deg) rotate(-").concat(c(45,270),"deg)"),s.style.left="".concat(c(3,77),"%"),s.style.bottom="".concat(c(0,20))}}catch(i){n.e(i)}finally{n.f()}}),180),setTimeout((function(){var t=c(1,a.length)-1;console.log("抽到第 ".concat(t," +1 張")),e.$refs.box.classList.remove("shake-constant","shake-hard"),e.$refs.award.classList.remove("shake-constant","shake-hard"),a[t].style.color="white",a[t].style.left="50%",a[t].style.transform="translateX(-50%)",a[t].firstChild.style.filter="blur(3px)",a[t].classList.add("one"),window.innerWidth>=1025?a[t].style.bottom="70%":(window.innerWidth<1025&&window.innerWidth)>600?a[t].style.bottom="90%":a[t].style.bottom="125%",e.$data.openText=!0,e.$refs.hand.classList.add("changeY")}),2e3)},open:function(){var t=document.getElementsByClassName("one");this.$data.openText=!1,this.$data.keepText=!0,this.$refs.hand.classList.remove("changeY"),t[0].style.transform="translateX(-50%) scale(2)",t[0].style.color="black",t[0].firstChild.style.filter="blur(0px)",setTimeout((function(){t[0].style.pointerEvents="auto"}),400)},keep:function(t){var e=this,a=document.getElementsByClassName("paper"),n=document.getElementsByClassName("one");this.$data.keepText=!1,n[0].style.pointerEvents="none",n[0].style.transition="0.3s",n[0].style.opacity="0",0===a.length&&(this.$refs.award.style.opacity="0"),setTimeout((function(){var s=new Date,o=s.getDate(),i=s.getMonth()+1,c=s.getFullYear(),r=s.getHours(),l=s.getMinutes(),d=s.getSeconds(),u="".concat(c,"/").concat(i,"/").concat(o," ").concat(r,":").concat(l,":").concat(d),f={time:u,award:e.award,winner:e.inputs[t].item};e.record.unshift(f),n[0].remove(),0!==a.length&&(e.$refs.startBig.style.opacity="1",e.$refs.startBig.style.pointerEvents="auto",e.$data.inputText=!0)}),300),setTimeout((function(){0===a.length&&(e.$refs.award.style.display="none",e.$data.over=!0,console.log("點擊了"))}),400)},restart:function(){location.reload()}}},l=r,d=a("2877"),u=a("6544"),f=a.n(u),p=a("8336"),g=a("b0af"),m=a("99d9"),v=a("169a"),h=a("132d"),y=a("8654"),x=Object(d["a"])(l,n,s,!1,null,null,null);e["default"]=x.exports;f()(x,{VBtn:p["a"],VCard:g["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDialog:v["a"],VIcon:h["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=raffle.cf6cb03c.js.map